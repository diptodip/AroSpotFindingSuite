%function collateWormNucData()
%Collect all spotStats_byNuc (total embryo) data into one

trainingSets={{'3_1_09_N2_25C_xol1cy5_sdc2tmr','trainingSet_cy_Cel_xol1.mat','N2'},...
    {'3_1_09_N2_25C_xol1cy5_sdc2tmr','trainingSet_tmr_Cel_sdc2.mat','N2'},...
    {'3_2_09_fog2_25C_xol1cy5_sdc2_tmr','trainingSet_cy_Cel_xol1.mat','fog2'},...
    {'3_2_09_fog2_25C_xol1cy5_sdc2_tmr','trainingSet_tmr_Cel_sdc2.mat','fog2'},...
    {'5_10_09_Sex1Sea1_25C_xol1cy5_sdc2tmr','trainingSet_cy_Cel_xol1.mat','ss'},...
    {'5_10_09_Sex1Sea1_25C_xol1cy5_sdc2tmr','trainingSet_tmr_Cel_sdc2.mat','ss'},...
    {'5_13_09_Sex1Sea1_25C_xol1cy5_sdc2tmr','trainingSet_cy_Cel_xol1.mat','ss'},...
    {'5_13_09_Sex1Sea1_25C_xol1cy5_sdc2tmr','trainingSet_tmr_Cel_sdc2.mat','ss'},...
    {'5_29_09_N2_25C_sex1tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','N2'},...
    {'5_29_09_N2_25C_sex1tmr_xol1cy5','trainingSet_tmr_Cel_sex1.mat','N2'},...
    {'5_29_09_fog2_25C_sex1tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','fog2'},...
    {'5_29_09_fog2_25C_sex1tmr_xol1cy5','trainingSet_tmr_Cel_sex1.mat','fog2'},...
    {'6_11_09_sex1_25C_sdc2tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','s'},...
    {'6_11_09_sex1_25C_sdc2tmr_xol1cy5','trainingSet_tmr_Cel_sdc2.mat','s'},...
    {'6_16_09_fog2_25C_sea1cy5_sex1tmr','trainingSet_cy_Cel_sea1.mat','fog2'},...
    {'6_16_09_fog2_25C_sea1cy5_sex1tmr','trainingSet_tmr_Cel_sex1.mat','fog2'},...
    {'6_17_09_sex1sea1sea2_25C_sdc2tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','sss'},...
    {'6_17_09_sex1sea1sea2_25C_sdc2tmr_xol1cy5','trainingSet_tmr_Cel_sdc2.mat','sss'},...
    {'6_23_09_sex1sea1_25C_fox1A594_1_40_ceh39tmr_1_40_PFSrun','trainingSet_tmr_Cel_ceh39.mat','ss'},...
    {'6_4_09_sex1_25C_sex1tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','s'},...
    {'6_4_09_sex1_25C_sex1tmr_xol1cy5','trainingSet_tmr_Cel_sex1.mat','s'},...
    {'7_2_09_sex1sea1_25C_fox1alexa_sea1cy5_ceh39tmr','trainingSet_cy_Cel_sea1.mat','ss'},...
    {'7_3_09_N2_25C_sea2alexa_xol1cy5_sex1tmr','trainingSet_alexa_Cel_sea2.mat','N2'},...
    {'7_3_09_N2_25C_sea2alexa_xol1cy5_sex1tmr','trainingSet_cy_Cel_xol1.mat','N2'},...
    {'7_3_09_N2_25C_sea2alexa_xol1cy5_sex1tmr','trainingSet_tmr_Cel_sex1.mat','N2'},...
    {'7_3_09_N2_25C_xol1cy5_sea1A594_sdc2tmr_1_10','trainingSet_alexa_Cel_sea1.mat','N2'},...
    {'7_3_09_N2_25C_xol1cy5_sea1A594_sdc2tmr_1_10','trainingSet_cy_Cel_xol1.mat','N2'},...
    {'7_3_09_N2_25C_xol1cy5_sea1A594_sdc2tmr_1_10','trainingSet_tmr_Cel_sdc2.mat','N2'},...
    {'7_4_09_N2_25C_sea1A594_fox1cy5_ceh39tmr','trainingSet_alexa_Cel_sea1.mat','N2'},...
    {'7_4_09_N2_25C_sea1A594_fox1cy5_ceh39tmr','trainingSet_cy_Cel_fox1.mat','N2'},...
    {'7_4_09_N2_25C_sea1A594_fox1cy5_ceh39tmr','trainingSet_tmr_Cel_ceh39.mat','N2'},...
    {'7_5_09_fog2_25C_xol1cy5_sdc2A594_1_5_sex1IItmr_1_40_PFSrun','trainingSet_alexa_Cel_sdc2.mat','fog2'},...
    {'7_5_09_fog2_25C_xol1cy5_sdc2A594_1_5_sex1IItmr_1_40_PFSrun','trainingSet_cy_Cel_xol1.mat','fog2'},...
    {'more7_5_09_fog2_25C_xol1cy5_sdc2A594_1_5_sex1IItmr_1_40_PFSrun','trainingSet_alexa_Cel_sdc2.mat','fog2'},...
    {'more7_5_09_fog2_25C_xol1cy5_sdc2A594_1_5_sex1IItmr_1_40_PFSrun','trainingSet_cy_Cel_xol1.mat','fog2'},...
    {'6_4_09_sex1_25C_sdc2tmr_xol1cy5','trainingSet_cy_Cel_xol1.mat','s'},...
    {'6_4_09_sex1_25C_sdc2tmr_xol1cy5','trainingSet_tmr_Cel_sdc2.mat','s'}};
%     {'7_10_09_N2_25C_fox1A594_sea1cy5_sdc2tmr','trainingSet_alexa_Cel_fox1.mat','N2'},...
%     {'7_10_09_N2_25C_fox1A594_sea1cy5_sdc2tmr','trainingSet_cy_Cel_sea1.mat','N2'},...
%     {'7_10_09_N2_25C_fox1A594_sea1cy5_sdc2tmr','trainingSet_tmr_Cel_sdc2.mat','N2'},...
% 



%go through all directories: start in SexDet
SexDetDir='/Volumes/rifkinlab/sarifkin/Projects/Worms/SexDet/';
cd(SexDetDir);
dirs=dir;

for iDir=1:length(dirs)
    
    if dirs(iDir).isdir && ~strcmp(dirs(iDir).name(1),'.')
        
        cd(dirs(iDir).name);
        disp(['Entering ' dirs(iDir).name]);
        
        %%%%%%% Get dyes
        

        
        
        
        tss=dir('trainingSet*mat');
        if ~isempty(tss)
            for iTSCheck=1:length(trainingSets)
                if strcmp(dirs(iDir).name,trainingSets{iTSCheck}{1})%do this directory

    
                    
                    
                    
                    
                    if exist(['wormDataByNuc_' dirs(iDir).name '.mat'],'file')
                        targetDir=fullfile('/Users/BrutusXPro/Dropbox/TalksInProgress/USC_March2013/Analysis/DataAndPlots_March13',dirs(iDir).name);
                        mkdir(targetDir);
                        try
                        copyfile('*Percentage*',targetDir);
                        catch
                        end;
                        try
                            copyfile('*quickPlots*',targetDir);                        catch
                        end;
                        try
                            copyfile('*wormData*',targetDir);                        catch
                        end;
                        try
                            copyfile('*robsIQR*',targetDir);                        catch
                        end;

                        break
                    end;%if spotStats_byNuc exists
                end;%if do this directory
            end;%check training sets
        end;%if there are training sets to check
    end;%if check this directory
    cd(SexDetDir);
end;%loop over directories
